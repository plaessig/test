import{defineComponent as k,ref as C,createElementBlock as o,openBlock as l,normalizeClass as u,createCommentVNode as s,createElementVNode as r,toDisplayString as m,Fragment as L,renderList as p}from"vue";import{createVueBlockDecorator as x}from"../../../scripts/vue-utils.js";import{e as y,b as N,d as w,g as B,h as H,i as f}from"../__chunks/block-config-BFTfnRDR.js";import"../../../scripts/aem.js";const _={key:0,class:"nav-brand"},M={class:"nav-brand-container"},R=["innerHTML"],T={key:1,class:"nav-brand-name"},D={class:"nav-header"},E=["aria-label"],I={key:0,class:"nav-title"},V={class:"nav-list"},z=["href","title"],F=["innerHTML"],O={key:1,class:"nav-label"},P=k({__name:"Nav",props:{items:{},title:{},defaultCollapsed:{type:Boolean,default:!1},brandName:{},brandLogo:{}},setup(e){const a=C(e.defaultCollapsed);return(c,i)=>(l(),o("nav",{class:u(["nav-sidebar",{"nav-collapsed":a.value}])},[s(" Brand Banner "),e.brandName||e.brandLogo?(l(),o("div",_,[r("div",M,[e.brandLogo?(l(),o("div",{key:0,class:"nav-brand-logo",innerHTML:e.brandLogo},null,8,R)):s("v-if",!0),e.brandName&&!a.value?(l(),o("span",T,m(e.brandName),1)):s("v-if",!0)])])):s("v-if",!0),r("div",D,[r("button",{class:"nav-toggle",onClick:i[0]||(i[0]=t=>a.value=!a.value),"aria-label":a.value?"Expand navigation":"Collapse navigation"},[...i[1]||(i[1]=[r("span",{class:"nav-toggle-icon"},"â˜°",-1)])],8,E),!a.value&&e.title?(l(),o("h2",I,m(e.title),1)):s("v-if",!0)]),r("ul",V,[(l(!0),o(L,null,p(e.items,(t,v)=>(l(),o("li",{key:v,class:u(["nav-item",{active:t.active}])},[r("a",{href:t.link,class:"nav-link",title:t.name},[t.icon?(l(),o("span",{key:0,class:"nav-icon",innerHTML:t.icon},null,8,F)):s("v-if",!0),t.name?(l(),o("span",O,m(t.name),1)):s("v-if",!0)],8,z)],2))),128))])],2))}});function S(e){const d=y(e),a=[...e.children],c=N(a,"brand logo"),i=c?w(c.cells[1],{width:200}):"",t=B(a,["icon","name","link"]),v=t>=0?t+1:0;return{items:a.slice(v).map(n=>[...n.children]).filter(n=>n.length>=2).filter(n=>!["brand logo","icon"].includes((n[0].textContent||"").trim().toLowerCase())).map(n=>{const b=n.length>=3?H(n[0],{width:56}):"",g=n.length>=3?(n[1].textContent||"").trim():(n[0].textContent||"").trim(),h=n.length>=3?f(n[2]):f(n[1]);return{icon:b||void 0,name:g,link:h}}).filter(n=>n.name&&n.link),title:d.title,defaultCollapsed:d.defaultCollapsed==="true",brandName:d.brandName,brandLogo:i}}const $=S,K=x(P,$);export{K as default};
